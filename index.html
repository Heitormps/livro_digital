<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matem√°tica Interativa - Ensino M√©dio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .header h1 {
            font-size: 2.5rem;
            color: #4a5568;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            color: #718096;
        }

        .year-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .year-btn {
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .year-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .year-btn.active {
            background: #4299e1;
            color: white;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .topic-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #4299e1;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .topic-card h3 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .topic-card p {
            color: #718096;
            line-height: 1.6;
        }

        .topic-icon {
            font-size: 2rem;
            margin-bottom: 15px;
            display: block;
        }

        .activity-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            margin: 50px auto;
            padding: 30px;
            border-radius: 20px;
            max-width: 900px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            color: #718096;
            background: none;
            border: none;
        }

        .close-btn:hover {
            color: #e53e3e;
        }

        .animation-area {
            background: #f7fafc;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .function-graph {
            width: 100%;
            height: 250px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .axis {
            position: absolute;
            background: #4a5568;
        }

        .x-axis {
            width: 100%;
            height: 2px;
            top: 50%;
            left: 0;
        }

        .y-axis {
            width: 2px;
            height: 100%;
            left: 50%;
            top: 0;
        }

        .parabola {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #4299e1;
            border-radius: 50%;
            animation: drawParabola 3s ease-in-out infinite;
        }

        @keyframes drawParabola {
            0% { transform: translate(-100px, 100px); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translate(100px, 100px); opacity: 0; }
        }

        .interactive-controls {
            margin: 20px 0;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 10px 20px;
            background: #4299e1;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: #3182ce;
            transform: scale(1.05);
        }

        .year-content {
            display: none;
        }

        .year-content.active {
            display: block;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4299e1, #667eea);
            width: 0%;
            transition: width 0.5s ease;
        }

        .sequence-term {
            background: #4299e1;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: bold;
            animation: fadeInScale 0.5s ease-in-out;
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        .bar {
            background: linear-gradient(to top, #4299e1, #667eea);
            border-radius: 4px 4px 0 0;
            margin: 0 2px;
            min-width: 20px;
            transition: height 0.5s ease;
            position: relative;
        }

        .bar-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            font-weight: bold;
            color: #4a5568;
        }

        @media (max-width: 768px) {
            .year-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö Matem√°tica Interativa</h1>
            <p>Livro Digital do Ensino M√©dio - BNCC</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="year-selector">
            <button class="year-btn active" onclick="showYear(1)">1¬∫ Ano</button>
            <button class="year-btn" onclick="showYear(2)">2¬∫ Ano</button>
            <button class="year-btn" onclick="showYear(3)">3¬∫ Ano</button>
        </div>

        <!-- 1¬∫ Ano -->
        <div id="year1" class="year-content active">
            <div class="content-grid">
                <div class="topic-card" onclick="openActivity('funcoes')">
                    <span class="topic-icon">üìà</span>
                    <h3>Fun√ß√µes</h3>
                    <p>Conceito de fun√ß√£o, dom√≠nio, contradom√≠nio e imagem. Representa√ß√£o gr√°fica e an√°lise de comportamento.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('funcao-afim')">
                    <span class="topic-icon">üìè</span>
                    <h3>Fun√ß√£o Afim</h3>
                    <p>Fun√ß√£o do 1¬∫ grau, coeficientes angular e linear, gr√°ficos e aplica√ß√µes pr√°ticas.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('funcao-quadratica')">
                    <span class="topic-icon">üéØ</span>
                    <h3>Fun√ß√£o Quadr√°tica</h3>
                    <p>Par√°bolas, v√©rtice, ra√≠zes e an√°lise do discriminante. Problemas de otimiza√ß√£o.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('sequencias')">
                    <span class="topic-icon">üî¢</span>
                    <h3>Sequ√™ncias e Progress√µes</h3>
                    <p>PA e PG, termo geral, soma dos termos e aplica√ß√µes em situa√ß√µes cotidianas.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('geometria-plana')">
                    <span class="topic-icon">üìê</span>
                    <h3>Geometria Plana</h3>
                    <p>√Åreas e per√≠metros de figuras planas, teorema de Pit√°goras e rela√ß√µes m√©tricas.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('estatistica-basica')">
                    <span class="topic-icon">üìä</span>
                    <h3>Estat√≠stica B√°sica</h3>
                    <p>Medidas de tend√™ncia central, gr√°ficos e interpreta√ß√£o de dados.</p>
                </div>
            </div>
        </div>

        <!-- 2¬∫ Ano -->
        <div id="year2" class="year-content">
            <div class="content-grid">
                <div class="topic-card" onclick="openActivity('funcao-exponencial')">
                    <span class="topic-icon">üìà</span>
                    <h3>Fun√ß√£o Exponencial</h3>
                    <p>Crescimento e decrescimento exponencial, logaritmos e aplica√ß√µes em juros compostos.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('funcao-logaritmica')">
                    <span class="topic-icon">üìâ</span>
                    <h3>Fun√ß√£o Logar√≠tmica</h3>
                    <p>Propriedades dos logaritmos, mudan√ßa de base e resolu√ß√£o de equa√ß√µes.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('trigonometria')">
                    <span class="topic-icon">üåä</span>
                    <h3>Trigonometria</h3>
                    <p>C√≠rculo trigonom√©trico, fun√ß√µes seno, cosseno e tangente. Identidades trigonom√©tricas.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('geometria-espacial')">
                    <span class="topic-icon">üé≤</span>
                    <h3>Geometria Espacial</h3>
                    <p>Volumes e √°reas de s√≥lidos geom√©tricos, prismas, pir√¢mides, cilindros e esferas.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('matrizes')">
                    <span class="topic-icon">üî¢</span>
                    <h3>Matrizes</h3>
                    <p>Opera√ß√µes com matrizes, determinantes e sistemas lineares.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('probabilidade')">
                    <span class="topic-icon">üé≤</span>
                    <h3>Probabilidade</h3>
                    <p>Espa√ßo amostral, eventos e c√°lculo de probabilidades em situa√ß√µes diversas.</p>
                </div>
            </div>
        </div>

        <!-- 3¬∫ Ano -->
        <div id="year3" class="year-content">
            <div class="content-grid">
                <div class="topic-card" onclick="openActivity('geometria-analitica')">
                    <span class="topic-icon">üìç</span>
                    <h3>Geometria Anal√≠tica</h3>
                    <p>Ponto, reta e circunfer√™ncia no plano cartesiano. Dist√¢ncias e equa√ß√µes.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('polinomios')">
                    <span class="topic-icon">üî¢</span>
                    <h3>Polin√¥mios</h3>
                    <p>Opera√ß√µes, divis√£o, teorema do resto e rela√ß√µes de Girard.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('numeros-complexos')">
                    <span class="topic-icon">üåÄ</span>
                    <h3>N√∫meros Complexos</h3>
                    <p>Forma alg√©brica, trigonom√©trica e opera√ß√µes no plano complexo.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('analise-combinatoria')">
                    <span class="topic-icon">üéØ</span>
                    <h3>An√°lise Combinat√≥ria</h3>
                    <p>Princ√≠pios de contagem, arranjos, combina√ß√µes e permuta√ß√µes.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('estatistica-avancada')">
                    <span class="topic-icon">üìà</span>
                    <h3>Estat√≠stica Avan√ßada</h3>
                    <p>Distribui√ß√µes, correla√ß√£o, regress√£o e an√°lise de dados complexos.</p>
                </div>
                
                <div class="topic-card" onclick="openActivity('matematica-financeira')">
                    <span class="topic-icon">üí∞</span>
                    <h3>Matem√°tica Financeira</h3>
                    <p>Juros simples e compostos, financiamentos e investimentos.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Atividades -->
    <div id="activityModal" class="activity-modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeActivity()">&times;</button>
            <div id="activityContent"></div>
        </div>
    </div>

    <script>
        let currentYear = 1;
        let completedTopics = new Set();
        let currentSequenceType = '';
        let currentShape = '';

        function showYear(year) {
            // Atualizar bot√µes
            document.querySelectorAll('.year-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Mostrar conte√∫do do ano
            document.querySelectorAll('.year-content').forEach(content => content.classList.remove('active'));
            document.getElementById(`year${year}`).classList.add('active');
            
            currentYear = year;
            updateProgress();
        }

        function updateProgress() {
            const totalTopics = document.querySelectorAll(`#year${currentYear} .topic-card`).length;
            const completedInYear = Array.from(completedTopics).filter(topic => 
                document.querySelector(`#year${currentYear} .topic-card[onclick*="${topic}"]`)
            ).length;
            
            const progress = (completedInYear / totalTopics) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }

        function openActivity(topic) {
            const modal = document.getElementById('activityModal');
            const content = document.getElementById('activityContent');
            
            content.innerHTML = getActivityContent(topic);
            modal.style.display = 'block';
            
            // Marcar como conclu√≠do
            completedTopics.add(topic);
            updateProgress();
            
            // Iniciar anima√ß√µes espec√≠ficas
            setTimeout(() => initializeActivity(topic), 100);
        }

        function closeActivity() {
            document.getElementById('activityModal').style.display = 'none';
        }

        function getActivityContent(topic) {
            const activities = {
                'funcoes': `
                    <h2>üìà Fun√ß√µes</h2>
                    <p>Uma fun√ß√£o √© uma rela√ß√£o que associa cada elemento do dom√≠nio a um √∫nico elemento do contradom√≠nio.</p>
                    
                    <div class="animation-area">
                        <h3>Visualiza√ß√£o Interativa</h3>
                        <div id="functionDemo" style="position: relative; width: 300px; height: 200px; background: #f0f8ff; border-radius: 10px; margin: 20px auto;">
                            <div style="position: absolute; top: 20px; left: 20px; width: 60px; height: 160px; background: #e6f3ff; border-radius: 10px; display: flex; flex-direction: column; justify-content: space-around; align-items: center;">
                                <div class="domain-element" style="width: 30px; height: 30px; background: #4299e1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">1</div>
                                <div class="domain-element" style="width: 30px; height: 30px; background: #4299e1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">2</div>
                                <div class="domain-element" style="width: 30px; height: 30px; background: #4299e1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">3</div>
                            </div>
                            
                            <div style="position: absolute; top: 20px; right: 20px; width: 60px; height: 160px; background: #fff2e6; border-radius: 10px; display: flex; flex-direction: column; justify-content: space-around; align-items: center;">
                                <div class="codomain-element" style="width: 30px; height: 30px; background: #ed8936; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">2</div>
                                <div class="codomain-element" style="width: 30px; height: 30px; background: #ed8936; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">4</div>
                                <div class="codomain-element" style="width: 30px; height: 30px; background: #ed8936; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">6</div>
                            </div>
                            
                            <svg style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
                                <line class="arrow" x1="80" y1="50" x2="220" y2="50" stroke="#48bb78" stroke-width="3" marker-end="url(#arrowhead)" opacity="0"/>
                                <line class="arrow" x1="80" y1="100" x2="220" y2="100" stroke="#48bb78" stroke-width="3" marker-end="url(#arrowhead)" opacity="0"/>
                                <line class="arrow" x1="80" y1="150" x2="220" y2="150" stroke="#48bb78" stroke-width="3" marker-end="url(#arrowhead)" opacity="0"/>
                                <defs>
                                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                        <polygon points="0 0, 10 3.5, 0 7" fill="#48bb78"/>
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        
                        <p><strong>Dom√≠nio:</strong> {1, 2, 3} ‚Üí <strong>Contradom√≠nio:</strong> {2, 4, 6}</p>
                        <p><strong>Regra:</strong> f(x) = 2x</p>
                    </div>
                    
                    <div class="interactive-controls">
                        <button class="control-btn" onclick="animateFunction()">‚ñ∂Ô∏è Animar Fun√ß√£o</button>
                        <button class="control-btn" onclick="resetAnimation()">üîÑ Reiniciar</button>
                    </div>
                `,
                
                'funcao-afim': `
                    <h2>üìè Fun√ß√£o Afim</h2>
                    <p>A fun√ß√£o afim tem a forma f(x) = ax + b, onde 'a' √© o coeficiente angular e 'b' √© o coeficiente linear.</p>
                    
                    <div class="animation-area">
                        <h3>Reta Interativa</h3>
                        <div style="position: relative; width: 400px; height: 300px; background: white; border: 2px solid #e2e8f0; border-radius: 10px; margin: 20px auto;">
                            <svg width="400" height="300" id="linearGraph">
                                <defs>
                                    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                        <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#f0f0f0" stroke-width="1"/>
                                    </pattern>
                                </defs>
                                <rect width="100%" height="100%" fill="url(#grid)"/>
                                
                                <line x1="0" y1="150" x2="400" y2="150" stroke="#4a5568" stroke-width="2"/>
                                <line x1="200" y1="0" x2="200" y2="300" stroke="#4a5568" stroke-width="2"/>
                                
                                <line id="linearLine" x1="0" y1="150" x2="400" y2="150" stroke="#e53e3e" stroke-width="3"/>
                                
                                <circle id="yIntercept" cx="200" cy="150" r="5" fill="#38a169"/>
                                <circle id="slopePoint" cx="220" cy="150" r="5" fill="#3182ce"/>
                            </svg>
                        </div>
                        
                        <div style="margin: 20px 0;">
                            <label>Coeficiente Angular (a): <input type="range" id="slopeA" min="-3" max="3" step="0.1" value="1" oninput="updateLinearFunction()"></label>
                            <span id="slopeValue">1</span><br>
                            <label>Coeficiente Linear (b): <input type="range" id="interceptB" min="-5" max="5" step="0.1" value="0" oninput="updateLinearFunction()"></label>
                            <span id="interceptValue">0</span>
                        </div>
                        
                        <p id="linearEquation">f(x) = x</p>
                        <p id="linearInfo">Crescente ‚Ä¢ Passa pela origem</p>
                    </div>
                    
                    <div class="interactive-controls">
                        <button class="control-btn" onclick="showSlope()">üìê Mostrar Inclina√ß√£o</button>
                        <button class="control-btn" onclick="animateLinear()">üé¨ Animar Crescimento</button>
                    </div>
                `,
                
                'funcao-quadratica': `
                    <h2>üéØ Fun√ß√£o Quadr√°tica</h2>
                    <p>A fun√ß√£o quadr√°tica tem a forma f(x) = ax¬≤ + bx + c, onde a ‚â† 0. Seu gr√°fico √© uma par√°bola.</p>
                    
                    <div class="animation-area">
                        <h3>Par√°bola Interativa</h3>
                        <div style="position: relative; width: 400px; height: 300px; background: white; border: 2px solid #e2e8f0; border-radius: 10px; margin: 20px auto;">
                            <svg width="400" height="300" id="parabolaGraph">
                                <defs>
                                    <pattern id="gridParabola" width="20" height="20" patternUnits="userSpaceOnUse">
                                        <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#f0f0f0" stroke-width="1"/>
                                    </pattern>
                                </defs>
                                <rect width="100%" height="100%" fill="url(#gridParabola)"/>
                                
                                <!-- Eixos -->
                                <line x1="0" y1="150" x2="400" y2="150" stroke="#4a5568" stroke-width="2"/>
                                <line x1="200" y1="0" x2="200" y2="300" stroke="#4a5568" stroke-width="2"/>
                                
                                <!-- Par√°bola ser√° desenhada aqui -->
                                <path id="parabolaPath" d="" fill="none" stroke="#e53e3e" stroke-width="3"/>
                                
                                <!-- V√©rtice -->
                                <circle id="vertexPoint" cx="200" cy="150" r="5" fill="#38a169" style="display: none;"/>
                                
                                <!-- Ra√≠zes -->
                                <circle id="root1" cx="200" cy="150" r="4" fill="#3182ce" style="display: none;"/>
                                <circle id="root2" cx="200" cy="150" r="4" fill="#3182ce" style="display: none;"/>
                            </svg>
                        </div>
                        
                        <div style="margin: 20px 0;">
                            <label>Coeficiente a: <input type="range" id="coefA" min="-2" max="2" step="0.1" value="1" oninput="updateParabola()"></label>
                            <span id="aValue">1</span><br>
                            <label>Coeficiente b: <input type="range" id="coefB" min="-5" max="5" step="0.1" value="0" oninput="updateParabola()"></label>
                            <span id="bValue">0</span><br>
                            <label>Coeficiente c: <input type="range" id="coefC" min="-5" max="5" step="0.1" value="0" oninput="updateParabola()"></label>
                            <span id="cValue">0</span>
                        </div>
                        
                        <p id="equationDisplay">f(x) = x¬≤</p>
                        <div id="parabolaInfo" style="background: #f7fafc; padding: 10px; border-radius: 8px; margin: 10px 0;">
                            <p>Concavidade: <span id="concavity">Para cima</span></p>
                            <p>V√©rtice: <span id="vertexCoords">(0, 0)</span></p>
                        </div>
                    </div>
                    
                    <div class="interactive-controls">
                        <button class="control-btn" onclick="showVertex()">üìç Mostrar V√©rtice</button>
                        <button class="control-btn" onclick="showRoots()">üéØ Encontrar Ra√≠zes</button>
                        <button class="control-btn" onclick="animateParabola()">üé¨ Animar Par√°bola</button>
                    </div>
                `,
                
                'sequencias': `
                    <h2>üî¢ Sequ√™ncias e Progress√µes</h2>
                    <p>Progress√µes Aritm√©ticas (PA) e Geom√©tricas (PG) s√£o sequ√™ncias num√©ricas com padr√µes espec√≠ficos.</p>
                    
                    <div class="animation-area">
                        <h3>Visualizador de Progress√µes</h3>
                        
                        <div style="margin: 20px 0;">
                            <button class="control-btn" onclick="showPA()" style="margin: 5px;">üìà Progress√£o Aritm√©tica</button>
                            <button class="control-btn" onclick="showPG()" style="margin: 5px;">üìä Progress√£o Geom√©trica</button>
                        </div>
                        
                        <div id="sequenceDisplay" style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0; min-height: 150px;">
                            <h4 id="sequenceTitle">Clique em uma progress√£o para come√ßar</h4>
                            <div id="sequenceTerms" style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 20px 0;"></div>
                            <div id="sequenceFormula" style="background: #f7fafc; padding: 15px; border-radius: 8px; margin: 10px 0;"></div>
                        </div>
                        
                        <div id="sequenceControls" style="display: none;">
                            <label>Primeiro termo (a‚ÇÅ): <input type="number" id="firstTerm" value="2" oninput="updateSequence()"></label><br>
                            <label id="ratioLabel">Raz√£o (r): <input type="number" id="ratio" value="3" step="0.1" oninput="updateSequence()"></label><br>
                            <label>N√∫mero de termos: <input type="range" id="numTerms" min="3" max="10" value="6" oninput="updateSequence()"></label>
                            <span id="numTermsValue">6</span>
                        </div>
                    </div>
                    
                    <div class="interactive-controls">
                        <button class="control-btn" onclick="animateSequence()">üé¨ Animar Sequ√™ncia</button>
                        <button class="control-btn" onclick="calculateSum()">‚ûï Calcular Soma</button>
                    </div>
                `,
                
                'geometria-plana': `
                    <h2>üìê Geometria Plana</h2>
                    <p>Estudo das formas geom√©tricas no plano: √°reas, per√≠metros e rela√ß√µes m√©tricas.</p>
                    
                    <div class="animation-area">
                        <h3>Explorador de Formas</h3>
                        
                        <div style="margin: 20px 0;">
                            <button class="control-btn" onclick="showTriangle()" style="margin: 5px;">üî∫ Tri√¢ngulo</button>
                            <button class="control-btn" onclick="showSquare()" style="margin: 5px;">‚¨ú Quadrado</button>
                            <button class="control-btn" onclick="showCircle()" style="margin: 5px;">‚≠ï C√≠rculo</button>
                        </div>
                        
                        <div id="geometryCanvas" style="position: relative; width: 300px; height: 300px; background: white; border: 2px solid #e2e8f0; border-radius: 10px; margin: 20px auto;">
                            <svg width="300" height="300" id="geometrySvg">
                                <defs>
                                    <pattern id="dots" patternUnits="userSpaceOnUse" width="20" height="20">
                                        <circle cx="10" cy="10" r="1" fill="#e2e8f0"/>
                                    </pattern>
                                </defs>
                                <rect width="100%" height="100%" fill="url(#dots)"/>
                            </svg>
                        </div>
                        
                        <div id="geometryInfo" style="background: #f7fafc; padding: 15px; border-radius: 10px; margin: 10px 0;">
                            <p>Selecione uma forma para ver suas propriedades</p>
                        </div>
                        
                        <div id="geometryControls" style="display: none;">
                            <label id="sizeLabel">Tamanho: <input type="range" id="shapeSize" min="30" max="100" value="60" oninput="updateGeometry()"></label>
                            <span id="sizeValue">60</span>
                        </div>
                    </div>
                    
                    <div class="interactive-controls">
                        <button class="control-btn" onclick="showPythagorean()">üìè Teorema de Pit√°goras</button>
                        <button class="control-btn" onclick="animateArea()">üìä Animar √Årea</button>
                    </div>
                `,
                
                'estatistica-basica': `
                    <h2>üìä Estat√≠stica B√°sica</h2>
                    <p>An√°lise de dados atrav√©s de medidas de tend√™ncia central e gr√°ficos.</p>
                    
                    <div class="animation-area">
                        <h3>Analisador de Dados</h3>
                        
                        <div style="margin: 20px 0;">
                            <label>Dados (separados por v√≠rgula): </label><br>
                            <input type="text" id="dataInput" value="5, 8, 12, 15, 18, 22, 25" style="width: 300px; padding: 8px; border: 1px solid #e2e8f0; border-radius: 5px;" oninput="updateStatistics()">
                        </div>
                        
                        <div id="chartArea" style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                            <div id="barChart" style="display: flex; align-items: end; justify-content: center; height: 150px; gap: 5px;"></div>
                        </div>
                        
                        <div id="statisticsResults" style="background: #f7fafc; padding: 15px; border-radius: 10px; margin: 10px 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
                            <div><strong>M√©dia:</strong> <span id="mean">-</span></div>
                            <div><strong>Mediana:</strong> <span id="median">-</span></div>
                            <div><strong>Moda:</strong> <span id="mode">-</span></div>
                            <div><strong>Amplitude:</strong> <span id="range">-</span></div>
                        </div>
                    </div>
                    
                    <div class="interactive-controls">
                        <button class="control-btn" onclick="generateRandomData()">üé≤ Dados Aleat√≥rios</button>
                        <button class="control-btn" onclick="animateChart()">üìà Animar Gr√°fico</button>
                        <button class="control-btn" onclick="showDistribution()">üìä Mostrar Distribui√ß√£o</button>
                    </div>
                `,
                
                'trigonometria': `
                    <h2>üåä Trigonometria</h2>
                    <p>As fun√ß√µes trigonom√©tricas relacionam √¢ngulos com raz√µes de lados em tri√¢ngulos ret√¢ngulos e descrevem movimentos peri√≥dicos.</p>
                    
                    <div class="animation-area">
                        <h3>Centro de Controle Trigonom√©trico</h3>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                            <!-- C√≠rculo Trigonom√©trico -->
                            <div>
                                <h4>C√≠rculo Trigonom√©trico</h4>
                                <div id="trigCircle" style="position: relative; width: 280px; height: 280px; margin: 10px auto;">
                                    <svg width="280" height="280" style="background: white; border-radius: 50%; border: 2px solid #e2e8f0;">
                                        <circle cx="140" cy="140" r="100" fill="none" stroke="#cbd5e0" stroke-width="2"/>
                                        
                                        <!-- Eixos -->
                                        <line x1="40" y1="140" x2="240" y2="140" stroke="#4a5568" stroke-width="2"/>
                                        <line x1="140" y1="40" x2="140" y2="240" stroke="#4a5568" stroke-width="2"/>
                                        
                                        <!-- Marca√ß√µes dos quadrantes -->
                                        <text x="200" y="135" fill="#666" font-size="10">0¬∞</text>
                                        <text x="135" y="55" fill="#666" font-size="10">90¬∞</text>
                                        <text x="55" y="135" fill="#666" font-size="10">180¬∞</text>
                                        <text x="135" y="225" fill="#666" font-size="10">270¬∞</text>
                                        
                                        <!-- Raio -->
                                        <line id="radiusLine" x1="140" y1="140" x2="240" y2="140" stroke="#e53e3e" stroke-width="3"/>
                                        <circle id="pointOnCircle" cx="240" cy="140" r="5" fill="#e53e3e"/>
                                        
                                        <!-- Proje√ß√µes -->
                                        <line id="sineLine" x1="240" y1="140" x2="240" y2="140" stroke="#38a169" stroke-width="3"/>
                                        <line id="cosineLine" x1="140" y1="140" x2="240" y2="140" stroke="#3182ce" stroke-width="3"/>
                                        
                                        <!-- Tangente -->
                                        <line id="tangentLine" x1="240" y1="40" x2="240" y2="240" stroke="#9ca3af" stroke-width="1" stroke-dasharray="2,2"/>
                                        <line id="tanLine" x1="240" y1="140" x2="240" y2="140" stroke="#f59e0b" stroke-width="3" style="display: none;"/>
                                        
                                        <!-- Labels -->
                                        <text id="cosLabel" x="190" y="155" fill="#3182ce" font-size="11" font-weight="bold">cos</text>
                                        <text id="sinLabel" x="245" y="130" fill="#38a169" font-size="11" font-weight="bold">sen</text>
                                        <text id="tanLabel" x="245" y="100" fill="#f59e0b" font-size="11" font-weight="bold" style="display: none;">tan</text>
                                    </svg>
                                </div>
                            </div>
                            
                            <!-- Gr√°ficos das Fun√ß√µes -->
                            <div>
                                <h4>Gr√°ficos das Fun√ß√µes</h4>
                                <div style="background: white; border: 2px solid #e2e8f0; border-radius: 10px; padding: 10px;">
                                    <svg width="260" height="200" id="trigGraphs">
                                        <defs>
                                            <pattern id="gridTrig" width="20" height="20" patternUnits="userSpaceOnUse">
                                                <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#f0f0f0" stroke-width="1"/>
                                            </pattern>
                                        </defs>
                                        <rect width="100%" height="100%" fill="url(#gridTrig)"/>
                                        
                                        <!-- Eixos -->
                                        <line x1="0" y1="100" x2="260" y2="100" stroke="#4a5568" stroke-width="1"/>
                                        <line x1="20" y1="0" x2="20" y2="200" stroke="#4a5568" stroke-width="1"/>
                                        
                                        <!-- Curvas -->
                                        <path id="sinCurve" d="" fill="none" stroke="#38a169" stroke-width="2"/>
                                        <path id="cosCurve" d="" fill="none" stroke="#3182ce" stroke-width="2" style="display: none;"/>
                                        <path id="tanCurve" d="" fill="none" stroke="#f59e0b" stroke-width="2" style="display: none;"/>
                                        
                                        <!-- Ponto atual -->
                                        <circle id="currentPoint" cx="20" cy="100" r="4" fill="#e53e3e"/>
                                        
                                        <!-- Marca√ß√µes -->
                                        <text x="85" y="195" fill="#666" font-size="10">œÄ/2</text>
                                        <text x="150" y="195" fill="#666" font-size="10">œÄ</text>
                                        <text x="215" y="195" fill="#666" font-size="10">3œÄ/2</text>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Controles -->
                        <div style="margin: 20px 0;">
                            <label>√Çngulo: <input type="range" id="angleSlider" min="0" max="360" value="0" oninput="updateTrigCircle()"></label>
                            <span id="angleValue">0¬∞</span> (<span id="radiansValue">0</span> rad)
                        </div>
                        
                        <!-- Valores e Informa√ß√µes -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div id="trigValues" style="background: #f7fafc; padding: 15px; border-radius: 10px;">
                                <h4>Valores Trigonom√©tricos</h4>
                                <p>sen(<span id="angleDisplay">0¬∞</span>) = <span id="sinValue">0.000</span></p>
                                <p>cos(<span id="angleDisplay2">0¬∞</span>) = <span id="cosValue">1.000</span></p>
                                <p>tan(<span id="angleDisplay3">0¬∞</span>) = <span id="tanValue">0.000</span></p>
                                <p><strong>Quadrante:</strong> <span id="quadrant">I</span></p>
                            </div>
                            
                            <div id="trigIdentities" style="background: #e6fffa; padding: 15px; border-radius: 10px;">
                                <h4>Identidades Fundamentais</h4>
                                <p>sen¬≤Œ∏ + cos¬≤Œ∏ = <span id="identity1">1.000</span></p>
                                <p>tan Œ∏ = sen Œ∏ / cos Œ∏ = <span id="identity2">0.000</span></p>
                                <p>sec Œ∏ = 1 / cos Œ∏ = <span id="identity3">1.000</span></p>
                                <p>csc Œ∏ = 1 / sen Œ∏ = <span id="identity4">‚àû</span></p>
                            </div>
                        </div>
                        
                        <!-- Calculadora de Tri√¢ngulos -->
                        <div id="triangleCalc" style="background: #fff7ed; padding: 15px; border-radius: 10px; margin: 15px 0;">
                            <h4>üî∫ Calculadora de Tri√¢ngulos Ret√¢ngulos</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin: 10px 0;">
                                <div>
                                    <label>Cateto Oposto:</label>
                                    <input type="number" id="catetOposto" placeholder="a" oninput="calculateTriangle()" style="width: 80px;">
                                </div>
                                <div>
                                    <label>Cateto Adjacente:</label>
                                    <input type="number" id="catetAdjacente" placeholder="b" oninput="calculateTriangle()" style="width: 80px;">
                                </div>
                                <div>
                                    <label>Hipotenusa:</label>
                                    <input type="number" id="hipotenusa" placeholder="c" oninput="calculateTriangle()" style="width: 80px;">
                                </div>
                            </div>
                            <div id="triangleResults" style="background: white; padding: 10px; border-radius: 5px; margin: 10px 0; font-size: 0.9rem;">
                                <p>Digite pelo menos 2 valores para calcular o tri√¢ngulo</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="interactive-controls">
                        <button class="control-btn" onclick="showFunction('sin')">üìà Mostrar Seno</button>
                        <button class="control-btn" onclick="showFunction('cos')">üìä Mostrar Cosseno</button>
                        <button class="control-btn" onclick="showFunction('tan')">üìâ Mostrar Tangente</button>
                        <button class="control-btn" onclick="animateTrig()">üîÑ Anima√ß√£o Autom√°tica</button>
                        <button class="control-btn" onclick="showSpecialAngles()">‚≠ê √Çngulos Not√°veis</button>
                        <button class="control-btn" onclick="showTrigWave()">üåä Ondas Trigonom√©tricas</button>
                    </div>
                `
            };
            
            // Adicionar conte√∫dos das novas atividades
            if (!activities[topic]) {
                if (topic === 'funcao-exponencial') {
                    activities[topic] = `
                        <h2>üìà Fun√ß√£o Exponencial</h2>
                        <p>A fun√ß√£o exponencial tem a forma f(x) = a¬∑bÀ£, onde a > 0 e b > 0, b ‚â† 1. Representa crescimento ou decrescimento exponencial.</p>
                        
                        <div class="animation-area">
                            <h3>Explorador de Fun√ß√£o Exponencial</h3>
                            <div style="position: relative; width: 450px; height: 350px; background: white; border: 2px solid #e2e8f0; border-radius: 10px; margin: 20px auto;">
                                <svg width="450" height="350" id="exponentialGraph">
                                    <defs>
                                        <pattern id="gridExp" width="25" height="25" patternUnits="userSpaceOnUse">
                                            <path d="M 25 0 L 0 0 0 25" fill="none" stroke="#f0f0f0" stroke-width="1"/>
                                        </pattern>
                                    </defs>
                                    <rect width="100%" height="100%" fill="url(#gridExp)"/>
                                    
                                    <!-- Eixos -->
                                    <line x1="0" y1="175" x2="450" y2="175" stroke="#4a5568" stroke-width="2"/>
                                    <line x1="225" y1="0" x2="225" y2="350" stroke="#4a5568" stroke-width="2"/>
                                    
                                    <!-- Marca√ß√µes dos eixos -->
                                    <text x="440" y="170" fill="#4a5568" font-size="12">x</text>
                                    <text x="230" y="15" fill="#4a5568" font-size="12">y</text>
                                    
                                    <!-- Curva exponencial -->
                                    <path id="expCurve" d="" fill="none" stroke="#e53e3e" stroke-width="3"/>
                                    
                                    <!-- Pontos importantes -->
                                    <circle id="expPoint1" cx="225" cy="175" r="4" fill="#38a169" style="display: none;"/>
                                    <circle id="expPoint2" cx="250" cy="175" r="4" fill="#38a169" style="display: none;"/>
                                    <circle id="expPoint3" cx="275" cy="175" r="4" fill="#38a169" style="display: none;"/>
                                    
                                    <!-- Ass√≠ntota horizontal -->
                                    <line id="asymptote" x1="0" y1="175" x2="450" y2="175" stroke="#9ca3af" stroke-width="2" stroke-dasharray="5,5" style="display: none;"/>
                                </svg>
                            </div>
                            
                            <div style="margin: 20px 0; display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <div>
                                    <label>Base (b): <input type="range" id="expBase" min="0.1" max="3" step="0.1" value="2" oninput="updateExponential()"></label>
                                    <span id="baseValue">2</span><br>
                                    <label>Multiplicador (a): <input type="range" id="expMult" min="0.1" max="3" step="0.1" value="1" oninput="updateExponential()"></label>
                                    <span id="multValue">1</span>
                                </div>
                                <div>
                                    <label>Deslocamento horizontal: <input type="range" id="expHShift" min="-3" max="3" step="0.1" value="0" oninput="updateExponential()"></label>
                                    <span id="hShiftValue">0</span><br>
                                    <label>Deslocamento vertical: <input type="range" id="expVShift" min="-3" max="3" step="0.1" value="0" oninput="updateExponential()"></label>
                                    <span id="vShiftValue">0</span>
                                </div>
                            </div>
                            
                            <div id="expInfo" style="background: #f7fafc; padding: 15px; border-radius: 10px; margin: 10px 0;">
                                <p id="expEquation"><strong>f(x) = 2À£</strong></p>
                                <p id="expBehavior">Fun√ß√£o crescente ‚Ä¢ Ass√≠ntota: y = 0</p>
                                <p id="expDomain">Dom√≠nio: ‚Ñù ‚Ä¢ Contradom√≠nio: (0, +‚àû)</p>
                            </div>
                        </div>
                        
                        <div class="interactive-controls">
                            <button class="control-btn" onclick="showAsymptote()">üìè Mostrar Ass√≠ntota</button>
                            <button class="control-btn" onclick="animateGrowth()">üìà Animar Crescimento</button>
                            <button class="control-btn" onclick="showCompoundInterest()">üí∞ Juros Compostos</button>
                            <button class="control-btn" onclick="compareExponentials()">‚öñÔ∏è Comparar Bases</button>
                        </div>
                    `;
                } else if (topic === 'funcao-logaritmica') {
                    activities[topic] = `
                        <h2>üìâ Fun√ß√£o Logar√≠tmica</h2>
                        <p>A fun√ß√£o logar√≠tmica √© a inversa da fun√ß√£o exponencial: f(x) = log_b(x), onde b > 0 e b ‚â† 1.</p>
                        
                        <div class="animation-area">
                            <h3>Explorador de Fun√ß√£o Logar√≠tmica</h3>
                            <div style="position: relative; width: 450px; height: 350px; background: white; border: 2px solid #e2e8f0; border-radius: 10px; margin: 20px auto;">
                                <svg width="450" height="350" id="logarithmicGraph">
                                    <defs>
                                        <pattern id="gridLog" width="25" height="25" patternUnits="userSpaceOnUse">
                                            <path d="M 25 0 L 0 0 0 25" fill="none" stroke="#f0f0f0" stroke-width="1"/>
                                        </pattern>
                                    </defs>
                                    <rect width="100%" height="100%" fill="url(#gridLog)"/>
                                    
                                    <!-- Eixos -->
                                    <line x1="0" y1="175" x2="450" y2="175" stroke="#4a5568" stroke-width="2"/>
                                    <line x1="225" y1="0" x2="225" y2="350" stroke="#4a5568" stroke-width="2"/>
                                    
                                    <!-- Marca√ß√µes -->
                                    <text x="440" y="170" fill="#4a5568" font-size="12">x</text>
                                    <text x="230" y="15" fill="#4a5568" font-size="12">y</text>
                                    
                                    <!-- Curva logar√≠tmica -->
                                    <path id="logCurve" d="" fill="none" stroke="#3182ce" stroke-width="3"/>
                                    
                                    <!-- Curva exponencial (para compara√ß√£o) -->
                                    <path id="expCurveCompare" d="" fill="none" stroke="#e53e3e" stroke-width="2" stroke-dasharray="5,5" style="display: none;"/>
                                    
                                    <!-- Ass√≠ntota vertical -->
                                    <line id="verticalAsymptote" x1="225" y1="0" x2="225" y2="350" stroke="#9ca3af" stroke-width="2" stroke-dasharray="5,5" style="display: none;"/>
                                    
                                    <!-- Linha y = x (para mostrar simetria) -->
                                    <line id="symmetryLine" x1="50" y1="300" x2="400" y2="0" stroke="#9ca3af" stroke-width="1" stroke-dasharray="3,3" style="display: none;"/>
                                    
                                    <!-- Pontos importantes -->
                                    <circle id="logPoint1" cx="250" cy="175" r="4" fill="#38a169" style="display: none;"/>
                                    <circle id="logPoint2" cx="275" cy="175" r="4" fill="#38a169" style="display: none;"/>
                                </svg>
                            </div>
                            
                            <div style="margin: 20px 0;">
                                <label>Base do logaritmo (b): <input type="range" id="logBase" min="1.1" max="5" step="0.1" value="2" oninput="updateLogarithmic()"></label>
                                <span id="logBaseValue">2</span><br>
                                <label>Multiplicador: <input type="range" id="logMult" min="0.1" max="3" step="0.1" value="1" oninput="updateLogarithmic()"></label>
                                <span id="logMultValue">1</span>
                            </div>
                            
                            <div id="logInfo" style="background: #f7fafc; padding: 15px; border-radius: 10px; margin: 10px 0;">
                                <p id="logEquation"><strong>f(x) = log‚ÇÇ(x)</strong></p>
                                <p id="logBehavior">Fun√ß√£o crescente ‚Ä¢ Ass√≠ntota vertical: x = 0</p>
                                <p id="logDomain">Dom√≠nio: (0, +‚àû) ‚Ä¢ Contradom√≠nio: ‚Ñù</p>
                            </div>
                            
                            <div id="logProperties" style="background: #e6fffa; padding: 15px; border-radius: 10px; margin: 10px 0;">
                                <h4>üî¢ Calculadora de Propriedades</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">
                                    <input type="number" id="logCalcA" placeholder="Valor A" value="8" oninput="calculateLogProperties()">
                                    <input type="number" id="logCalcB" placeholder="Valor B" value="4" oninput="calculateLogProperties()">
                                </div>
                                <div id="logCalcResults" style="font-size: 0.9rem; line-height: 1.4;">
                                    <p>log‚ÇÇ(8) = 3</p>
                                    <p>log‚ÇÇ(4) = 2</p>
                                    <p>log‚ÇÇ(8 √ó 4) = log‚ÇÇ(8) + log‚ÇÇ(4) = 5</p>
                                    <p>log‚ÇÇ(8 √∑ 4) = log‚ÇÇ(8) - log‚ÇÇ(4) = 1</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="interactive-controls">
                            <button class="control-btn" onclick="showVerticalAsymptote()">üìè Ass√≠ntota Vertical</button>
                            <button class="control-btn" onclick="compareWithExponential()">üîÑ Comparar com Exponencial</button>
                            <button class="control-btn" onclick="showLogProperties()">üìã Propriedades</button>
                            <button class="control-btn" onclick="changeBase()">üî¢ Mudan√ßa de Base</button>
                        </div>
                    `;
                }
            }
            
            return activities[topic] || `
                <h2>üìö Conte√∫do em Desenvolvimento</h2>
                <p>Esta atividade interativa est√° sendo preparada especialmente para voc√™!</p>
                <div class="animation-area">
                    <div style="font-size: 4rem; margin: 40px 0;">üöß</div>
                    <p>Em breve voc√™ ter√° acesso a anima√ß√µes incr√≠veis e exerc√≠cios interativos sobre este t√≥pico.</p>
                </div>
            `;
        }

        function initializeActivity(topic) {
            if (topic === 'funcao-afim') {
                updateLinearFunction();
            } else if (topic === 'funcao-quadratica') {
                updateParabola();
            } else if (topic === 'funcao-exponencial') {
                updateExponential();
            } else if (topic === 'funcao-logaritmica') {
                updateLogarithmic();
                calculateLogProperties();
            } else if (topic === 'trigonometria') {
                updateTrigCircle();
            } else if (topic === 'estatistica-basica') {
                updateStatistics();
            }
        }

        // Fun√ß√µes para Fun√ß√£o Afim
        function updateLinearFunction() {
            const a = parseFloat(document.getElementById('slopeA').value);
            const b = parseFloat(document.getElementById('interceptB').value);
            
            document.getElementById('slopeValue').textContent = a;
            document.getElementById('interceptValue').textContent = b;
            
            // Atualizar equa√ß√£o
            let equation = 'f(x) = ';
            if (a !== 1) equation += a;
            equation += 'x';
            if (b > 0) equation += ' + ' + b;
            else if (b < 0) equation += ' - ' + Math.abs(b);
            
            document.getElementById('linearEquation').textContent = equation;
            
            // Atualizar informa√ß√µes
            let info = a > 0 ? 'Crescente' : a < 0 ? 'Decrescente' : 'Constante';
            if (b === 0) info += ' ‚Ä¢ Passa pela origem';
            else info += ` ‚Ä¢ Intercepta y em ${b}`;
            
            document.getElementById('linearInfo').textContent = info;
            
            // Atualizar linha no gr√°fico
            const x1 = 0, x2 = 400;
            const y1 = 150 - (a * (-10) + b) * 10; // Escala ajustada
            const y2 = 150 - (a * 10 + b) * 10;
            
            document.getElementById('linearLine').setAttribute('x1', x1);
            document.getElementById('linearLine').setAttribute('y1', y1);
            document.getElementById('linearLine').setAttribute('x2', x2);
            document.getElementById('linearLine').setAttribute('y2', y2);
            
            // Atualizar pontos
            document.getElementById('yIntercept').setAttribute('cy', 150 - b * 10);
        }

        function showSlope() {
            alert('O coeficiente angular determina a inclina√ß√£o da reta. Valores positivos = crescente, negativos = decrescente.');
        }

        function animateLinear() {
            const line = document.getElementById('linearLine');
            line.style.strokeDasharray = '400';
            line.style.strokeDashoffset = '400';
            line.style.animation = 'drawLine 2s ease-in-out forwards';
        }

        // Fun√ß√µes para Sequ√™ncias
        function showPA() {
            currentSequenceType = 'PA';
            document.getElementById('sequenceTitle').textContent = 'Progress√£o Aritm√©tica (PA)';
            document.getElementById('ratioLabel').innerHTML = 'Raz√£o (r): <input type="number" id="ratio" value="3" oninput="updateSequence()">';
            document.getElementById('sequenceControls').style.display = 'block';
            updateSequence();
        }

        function showPG() {
            currentSequenceType = 'PG';
            document.getElementById('sequenceTitle').textContent = 'Progress√£o Geom√©trica (PG)';
            document.getElementById('ratioLabel').innerHTML = 'Raz√£o (q): <input type="number" id="ratio" value="2" step="0.1" oninput="updateSequence()">';
            document.getElementById('sequenceControls').style.display = 'block';
            updateSequence();
        }

        function updateSequence() {
            if (!currentSequenceType) return;
            
            const a1 = parseFloat(document.getElementById('firstTerm').value);
            const r = parseFloat(document.getElementById('ratio').value);
            const n = parseInt(document.getElementById('numTerms').value);
            
            document.getElementById('numTermsValue').textContent = n;
            
            const termsContainer = document.getElementById('sequenceTerms');
            termsContainer.innerHTML = '';
            
            let terms = [];
            
            for (let i = 0; i < n; i++) {
                let term;
                if (currentSequenceType === 'PA') {
                    term = a1 + i * r;
                } else {
                    term = a1 * Math.pow(r, i);
                }
                terms.push(term);
                
                const termElement = document.createElement('div');
                termElement.className = 'sequence-term';
                termElement.textContent = term.toFixed(1);
                termsContainer.appendChild(termElement);
            }
            
            // Mostrar f√≥rmula
            const formulaContainer = document.getElementById('sequenceFormula');
            if (currentSequenceType === 'PA') {
                formulaContainer.innerHTML = `
                    <strong>Termo Geral:</strong> a‚Çô = a‚ÇÅ + (n-1) √ó r = ${a1} + (n-1) √ó ${r}<br>
                    <strong>Soma dos n termos:</strong> S‚Çô = n √ó (a‚ÇÅ + a‚Çô) / 2
                `;
            } else {
                formulaContainer.innerHTML = `
                    <strong>Termo Geral:</strong> a‚Çô = a‚ÇÅ √ó q‚Åø‚Åª¬π = ${a1} √ó ${r}‚Åø‚Åª¬π<br>
                    <strong>Soma dos n termos:</strong> S‚Çô = a‚ÇÅ √ó (q‚Åø - 1) / (q - 1)
                `;
            }
        }

        function animateSequence() {
            const terms = document.querySelectorAll('.sequence-term');
            terms.forEach((term, index) => {
                term.style.animation = 'none';
                setTimeout(() => {
                    term.style.animation = 'fadeInScale 0.5s ease-in-out';
                }, index * 200);
            });
        }

        function calculateSum() {
            if (!currentSequenceType) return;
            
            const a1 = parseFloat(document.getElementById('firstTerm').value);
            const r = parseFloat(document.getElementById('ratio').value);
            const n = parseInt(document.getElementById('numTerms').value);
            
            let sum;
            if (currentSequenceType === 'PA') {
                const an = a1 + (n - 1) * r;
                sum = n * (a1 + an) / 2;
            } else {
                if (r === 1) {
                    sum = n * a1;
                } else {
                    sum = a1 * (Math.pow(r, n) - 1) / (r - 1);
                }
            }
            
            alert(`A soma dos ${n} primeiros termos √©: ${sum.toFixed(2)}`);
        }

        // Fun√ß√µes para Geometria Plana
        function showTriangle() {
            currentShape = 'triangle';
            document.getElementById('geometryControls').style.display = 'block';
            document.getElementById('sizeLabel').innerHTML = 'Lado: <input type="range" id="shapeSize" min="30" max="100" value="60" oninput="updateGeometry()">';
            updateGeometry();
        }

        function showSquare() {
            currentShape = 'square';
            document.getElementById('geometryControls').style.display = 'block';
            document.getElementById('sizeLabel').innerHTML = 'Lado: <input type="range" id="shapeSize" min="30" max="100" value="60" oninput="updateGeometry()">';
            updateGeometry();
        }

        function showCircle() {
            currentShape = 'circle';
            document.getElementById('geometryControls').style.display = 'block';
            document.getElementById('sizeLabel').innerHTML = 'Raio: <input type="range" id="shapeSize" min="30" max="100" value="60" oninput="updateGeometry()">';
            updateGeometry();
        }

        function updateGeometry() {
            if (!currentShape) return;
            
            const sizeInput = document.getElementById('shapeSize');
            if (!sizeInput) return;
            
            const size = parseFloat(sizeInput.value);
            const sizeValueSpan = document.getElementById('sizeValue');
            if (sizeValueSpan) sizeValueSpan.textContent = size;
            
            const svg = document.getElementById('geometrySvg');
            if (!svg) return;
            
            // Remover forma existente
            const existingShapes = svg.querySelectorAll('.shape');
            existingShapes.forEach(shape => shape.remove());
            
            let shapeElement, area, perimeter;
            
            if (currentShape === 'triangle') {
                shapeElement = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                // Tri√¢ngulo equil√°tero centralizado
                const height = size * Math.sqrt(3) / 2;
                const points = `150,${150-height/2} ${150-size/2},${150+height/2} ${150+size/2},${150+height/2}`;
                shapeElement.setAttribute('points', points);
                area = (size * size * Math.sqrt(3)) / 4;
                perimeter = size * 3;
            } else if (currentShape === 'square') {
                shapeElement = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                shapeElement.setAttribute('x', 150 - size/2);
                shapeElement.setAttribute('y', 150 - size/2);
                shapeElement.setAttribute('width', size);
                shapeElement.setAttribute('height', size);
                area = size * size;
                perimeter = size * 4;
            } else if (currentShape === 'circle') {
                shapeElement = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                shapeElement.setAttribute('cx', 150);
                shapeElement.setAttribute('cy', 150);
                shapeElement.setAttribute('r', size);
                area = Math.PI * size * size;
                perimeter = 2 * Math.PI * size;
            }
            
            if (shapeElement) {
                shapeElement.setAttribute('fill', 'rgba(66, 153, 225, 0.3)');
                shapeElement.setAttribute('stroke', '#4299e1');
                shapeElement.setAttribute('stroke-width', '3');
                shapeElement.className = 'shape';
                shapeElement.style.transition = 'all 0.3s ease';
                
                svg.appendChild(shapeElement);
                
                // Animar entrada da forma
                shapeElement.style.opacity = '0';
                shapeElement.style.transform = 'scale(0.5)';
                setTimeout(() => {
                    shapeElement.style.opacity = '1';
                    shapeElement.style.transform = 'scale(1)';
                }, 50);
                
                let shapeInfo = '';
                if (currentShape === 'triangle') {
                    shapeInfo = `
                        <strong>üî∫ Tri√¢ngulo Equil√°tero</strong><br>
                        <strong>Lado:</strong> ${size} unidades<br>
                        <strong>√Årea:</strong> ${area.toFixed(2)} unidades¬≤<br>
                        <strong>Per√≠metro:</strong> ${perimeter.toFixed(2)} unidades<br>
                        <em>F√≥rmula da √°rea: A = (L¬≤ √ó ‚àö3) / 4</em>
                    `;
                } else if (currentShape === 'square') {
                    shapeInfo = `
                        <strong>‚¨ú Quadrado</strong><br>
                        <strong>Lado:</strong> ${size} unidades<br>
                        <strong>√Årea:</strong> ${area.toFixed(2)} unidades¬≤<br>
                        <strong>Per√≠metro:</strong> ${perimeter.toFixed(2)} unidades<br>
                        <em>F√≥rmula da √°rea: A = L¬≤</em>
                    `;
                } else if (currentShape === 'circle') {
                    shapeInfo = `
                        <strong>‚≠ï C√≠rculo</strong><br>
                        <strong>Raio:</strong> ${size} unidades<br>
                        <strong>√Årea:</strong> ${area.toFixed(2)} unidades¬≤<br>
                        <strong>Circunfer√™ncia:</strong> ${perimeter.toFixed(2)} unidades<br>
                        <em>F√≥rmula da √°rea: A = œÄ √ó r¬≤</em>
                    `;
                }
                
                const infoElement = document.getElementById('geometryInfo');
                if (infoElement) {
                    infoElement.innerHTML = shapeInfo;
                }
            }
        }

        function showPythagorean() {
            // Limpar SVG e mostrar tri√¢ngulo ret√¢ngulo
            const svg = document.getElementById('geometrySvg');
            if (!svg) return;
            
            // Remover formas existentes
            const existingShapes = svg.querySelectorAll('.shape, .pythagoras');
            existingShapes.forEach(shape => shape.remove());
            
            // Criar tri√¢ngulo ret√¢ngulo
            const triangle = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
            triangle.setAttribute('points', '100,200 100,100 200,200');
            triangle.setAttribute('fill', 'rgba(66, 153, 225, 0.3)');
            triangle.setAttribute('stroke', '#4299e1');
            triangle.setAttribute('stroke-width', '3');
            triangle.className = 'pythagoras';
            svg.appendChild(triangle);
            
            // Adicionar quadrados nos lados
            const squareA = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
            squareA.setAttribute('x', '0');
            squareA.setAttribute('y', '100');
            squareA.setAttribute('width', '100');
            squareA.setAttribute('height', '100');
            squareA.setAttribute('fill', 'rgba(255, 99, 132, 0.3)');
            squareA.setAttribute('stroke', '#ff6384');
            squareA.setAttribute('stroke-width', '2');
            squareA.className = 'pythagoras';
            svg.appendChild(squareA);
            
            const squareB = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
            squareB.setAttribute('x', '100');
            squareB.setAttribute('y', '200');
            squareB.setAttribute('width', '100');
            squareB.setAttribute('height', '100');
            squareB.setAttribute('fill', 'rgba(54, 162, 235, 0.3)');
            squareB.setAttribute('stroke', '#36a2eb');
            squareB.setAttribute('stroke-width', '2');
            squareB.className = 'pythagoras';
            svg.appendChild(squareB);
            
            const squareC = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
            squareC.setAttribute('x', '210');
            squareC.setAttribute('y', '60');
            squareC.setAttribute('width', '141');
            squareC.setAttribute('height', '141');
            squareC.setAttribute('fill', 'rgba(75, 192, 192, 0.3)');
            squareC.setAttribute('stroke', '#4bc0c0');
            squareC.setAttribute('stroke-width', '2');
            squareC.className = 'pythagoras';
            squareC.style.transformOrigin = '280px 130px';
            squareC.style.transform = 'rotate(45deg)';
            svg.appendChild(squareC);
            
            // Adicionar labels
            const labelA = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            labelA.setAttribute('x', '50');
            labelA.setAttribute('y', '160');
            labelA.setAttribute('text-anchor', 'middle');
            labelA.setAttribute('fill', '#ff6384');
            labelA.setAttribute('font-weight', 'bold');
            labelA.textContent = 'a¬≤';
            labelA.className = 'pythagoras';
            svg.appendChild(labelA);
            
            const labelB = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            labelB.setAttribute('x', '150');
            labelB.setAttribute('y', '260');
            labelB.setAttribute('text-anchor', 'middle');
            labelB.setAttribute('fill', '#36a2eb');
            labelB.setAttribute('font-weight', 'bold');
            labelB.textContent = 'b¬≤';
            labelB.className = 'pythagoras';
            svg.appendChild(labelB);
            
            const labelC = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            labelC.setAttribute('x', '280');
            labelC.setAttribute('y', '135');
            labelC.setAttribute('text-anchor', 'middle');
            labelC.setAttribute('fill', '#4bc0c0');
            labelC.setAttribute('font-weight', 'bold');
            labelC.textContent = 'c¬≤';
            labelC.className = 'pythagoras';
            svg.appendChild(labelC);
            
            // Atualizar informa√ß√µes
            const infoElement = document.getElementById('geometryInfo');
            if (infoElement) {
                infoElement.innerHTML = `
                    <strong>üìè Teorema de Pit√°goras</strong><br>
                    <strong>F√≥rmula:</strong> a¬≤ + b¬≤ = c¬≤<br>
                    <strong>Exemplo:</strong> 3¬≤ + 4¬≤ = 5¬≤<br>
                    <strong>Resultado:</strong> 9 + 16 = 25 ‚úì<br>
                    <em>Em um tri√¢ngulo ret√¢ngulo, o quadrado da hipotenusa √© igual √† soma dos quadrados dos catetos.</em>
                `;
            }
            
            // Animar apari√ß√£o
            const pythagorasElements = svg.querySelectorAll('.pythagoras');
            pythagorasElements.forEach((element, index) => {
                element.style.opacity = '0';
                setTimeout(() => {
                    element.style.opacity = '1';
                    element.style.transition = 'opacity 0.5s ease';
                }, index * 200);
            });
        }

        function animateArea() {
            const shape = document.querySelector('.shape');
            if (shape) {
                // Criar efeito de preenchimento animado
                const originalFill = shape.getAttribute('fill');
                
                // Anima√ß√£o de pulso colorido
                let colorIntensity = 0.1;
                let increasing = true;
                
                const animateInterval = setInterval(() => {
                    if (increasing) {
                        colorIntensity += 0.05;
                        if (colorIntensity >= 0.8) increasing = false;
                    } else {
                        colorIntensity -= 0.05;
                        if (colorIntensity <= 0.1) increasing = true;
                    }
                    
                    shape.setAttribute('fill', `rgba(66, 153, 225, ${colorIntensity})`);
                }, 100);
                
                // Parar anima√ß√£o ap√≥s 3 segundos
                setTimeout(() => {
                    clearInterval(animateInterval);
                    shape.setAttribute('fill', originalFill);
                }, 3000);
                
                // Adicionar efeito de escala
                shape.style.animation = 'areaAnimation 3s ease-in-out';
            } else {
                // Se n√£o h√° forma, mostrar mensagem
                const infoElement = document.getElementById('geometryInfo');
                if (infoElement) {
                    infoElement.innerHTML = `
                        <strong>‚ö†Ô∏è Selecione uma forma primeiro!</strong><br>
                        Clique em Tri√¢ngulo, Quadrado ou C√≠rculo para ver a anima√ß√£o da √°rea.
                    `;
                }
            }
        }

        // Fun√ß√µes para Estat√≠stica
        function updateStatistics() {
            const input = document.getElementById('dataInput').value;
            const data = input.split(',').map(x => parseFloat(x.trim())).filter(x => !isNaN(x));
            
            if (data.length === 0) return;
            
            // Calcular estat√≠sticas
            const mean = data.reduce((a, b) => a + b) / data.length;
            
            const sortedData = [...data].sort((a, b) => a - b);
            const median = sortedData.length % 2 === 0 
                ? (sortedData[sortedData.length/2 - 1] + sortedData[sortedData.length/2]) / 2
                : sortedData[Math.floor(sortedData.length/2)];
            
            const frequency = {};
            data.forEach(x => frequency[x] = (frequency[x] || 0) + 1);
            const maxFreq = Math.max(...Object.values(frequency));
            const mode = Object.keys(frequency).filter(x => frequency[x] === maxFreq);
            
            const range = Math.max(...data) - Math.min(...data);
            
            // Atualizar resultados
            document.getElementById('mean').textContent = mean.toFixed(2);
            document.getElementById('median').textContent = median.toFixed(2);
            document.getElementById('mode').textContent = mode.join(', ');
            document.getElementById('range').textContent = range.toFixed(2);
            
            // Criar gr√°fico de barras
            const chartContainer = document.getElementById('barChart');
            chartContainer.innerHTML = '';
            
            const maxValue = Math.max(...data);
            
            data.forEach((value, index) => {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = `${(value / maxValue) * 120}px`;
                
                const barValue = document.createElement('div');
                barValue.className = 'bar-value';
                barValue.textContent = value;
                bar.appendChild(barValue);
                
                chartContainer.appendChild(bar);
            });
        }

        function generateRandomData() {
            const randomData = [];
            for (let i = 0; i < 8; i++) {
                randomData.push(Math.floor(Math.random() * 50) + 1);
            }
            document.getElementById('dataInput').value = randomData.join(', ');
            updateStatistics();
        }

        function animateChart() {
            const bars = document.querySelectorAll('.bar');
            bars.forEach((bar, index) => {
                const originalHeight = bar.style.height;
                bar.style.height = '0px';
                setTimeout(() => {
                    bar.style.height = originalHeight;
                }, index * 100);
            });
        }

        function showDistribution() {
            alert('A distribui√ß√£o dos dados mostra como os valores est√£o espalhados. Observe a forma do gr√°fico!');
        }

        // Fun√ß√µes para Fun√ß√£o Exponencial
        function updateExponential() {
            const base = parseFloat(document.getElementById('expBase').value);
            const mult = parseFloat(document.getElementById('expMult').value);
            const hShift = parseFloat(document.getElementById('expHShift').value);
            const vShift = parseFloat(document.getElementById('expVShift').value);
            
            document.getElementById('baseValue').textContent = base;
            document.getElementById('multValue').textContent = mult;
            document.getElementById('hShiftValue').textContent = hShift;
            document.getElementById('vShiftValue').textContent = vShift;
            
            // Construir equa√ß√£o
            let equation = 'f(x) = ';
            if (mult !== 1) equation += mult + ' √ó ';
            equation += base + '^';
            if (hShift !== 0) {
                equation += '(x' + (hShift > 0 ? ' - ' + hShift : ' + ' + Math.abs(hShift)) + ')';
            } else {
                equation += 'x';
            }
            if (vShift !== 0) {
                equation += (vShift > 0 ? ' + ' + vShift : ' - ' + Math.abs(vShift));
            }
            
            document.getElementById('expEquation').innerHTML = '<strong>' + equation + '</strong>';
            
            // Atualizar comportamento
            const behavior = base > 1 ? 'Fun√ß√£o crescente' : 'Fun√ß√£o decrescente';
            const asymptote = 'Ass√≠ntota: y = ' + vShift;
            document.getElementById('expBehavior').textContent = behavior + ' ‚Ä¢ ' + asymptote;
            
            // Desenhar curva
            drawExponentialCurve(base, mult, hShift, vShift);
        }

        function drawExponentialCurve(base, mult, hShift, vShift) {
            let path = '';
            const scale = 25;
            const centerX = 225;
            const centerY = 175;
            
            for (let x = -8; x <= 8; x += 0.1) {
                const realX = x - hShift;
                const y = mult * Math.pow(base, realX) + vShift;
                
                const screenX = centerX + x * scale;
                const screenY = centerY - y * scale;
                
                if (screenY >= 0 && screenY <= 350 && screenX >= 0 && screenX <= 450) {
                    if (path === '') {
                        path = `M ${screenX} ${screenY}`;
                    } else {
                        path += ` L ${screenX} ${screenY}`;
                    }
                }
            }
            
            document.getElementById('expCurve').setAttribute('d', path);
            
            // Atualizar ass√≠ntota
            const asymptoteY = centerY - vShift * scale;
            document.getElementById('asymptote').setAttribute('y1', asymptoteY);
            document.getElementById('asymptote').setAttribute('y2', asymptoteY);
        }

        function showAsymptote() {
            const asymptote = document.getElementById('asymptote');
            asymptote.style.display = asymptote.style.display === 'none' ? 'block' : 'none';
            
            const vShift = parseFloat(document.getElementById('expVShift').value);
            alert(`A ass√≠ntota horizontal √© a reta y = ${vShift}. A fun√ß√£o se aproxima desta linha mas nunca a toca!`);
        }

        function animateGrowth() {
            const curve = document.getElementById('expCurve');
            const length = curve.getTotalLength();
            
            curve.style.strokeDasharray = length;
            curve.style.strokeDashoffset = length;
            curve.style.animation = 'drawCurve 3s ease-in-out forwards';
            
            // Animar pontos
            const points = ['expPoint1', 'expPoint2', 'expPoint3'];
            points.forEach((pointId, index) => {
                const point = document.getElementById(pointId);
                point.style.display = 'block';
                point.style.opacity = '0';
                setTimeout(() => {
                    point.style.opacity = '1';
                    point.style.animation = 'pulse 1s ease-in-out';
                }, 1000 + index * 500);
            });
        }

        function showCompoundInterest() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 2000; display: flex;
                justify-content: center; align-items: center;
            `;
            
            modal.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%;">
                    <h3>üí∞ Simulador de Juros Compostos</h3>
                    <div style="margin: 20px 0;">
                        <label>Capital inicial (R$): <input type="number" id="capital" value="1000" style="width: 100px;"></label><br><br>
                        <label>Taxa de juros (% ao ano): <input type="number" id="taxa" value="10" step="0.1" style="width: 100px;"></label><br><br>
                        <label>Tempo (anos): <input type="range" id="tempo" min="1" max="20" value="5" oninput="updateCompoundInterest()"> <span id="tempoValue">5</span></label>
                    </div>
                    <div id="compoundResult" style="background: #f7fafc; padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <p><strong>Montante:</strong> R$ <span id="montante">1610.51</span></p>
                        <p><strong>Juros:</strong> R$ <span id="juros">610.51</span></p>
                        <p><strong>F√≥rmula:</strong> M = C √ó (1 + i)^t</p>
                    </div>
                    <canvas id="compoundChart" width="400" height="200" style="border: 1px solid #e2e8f0; border-radius: 5px;"></canvas>
                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" style="padding: 10px 20px; background: #4299e1; color: white; border: none; border-radius: 5px; cursor: pointer;">Fechar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            updateCompoundInterest();
            drawCompoundChart();
        }

        function updateCompoundInterest() {
            const capital = parseFloat(document.getElementById('capital')?.value || 1000);
            const taxa = parseFloat(document.getElementById('taxa')?.value || 10) / 100;
            const tempo = parseFloat(document.getElementById('tempo')?.value || 5);
            
            document.getElementById('tempoValue').textContent = tempo;
            
            const montante = capital * Math.pow(1 + taxa, tempo);
            const juros = montante - capital;
            
            document.getElementById('montante').textContent = montante.toFixed(2);
            document.getElementById('juros').textContent = juros.toFixed(2);
            
            drawCompoundChart();
        }

        function drawCompoundChart() {
            const canvas = document.getElementById('compoundChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const capital = parseFloat(document.getElementById('capital')?.value || 1000);
            const taxa = parseFloat(document.getElementById('taxa')?.value || 10) / 100;
            const tempo = parseFloat(document.getElementById('tempo')?.value || 5);
            
            ctx.clearRect(0, 0, 400, 200);
            
            // Desenhar eixos
            ctx.strokeStyle = '#4a5568';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(40, 160);
            ctx.lineTo(380, 160);
            ctx.moveTo(40, 20);
            ctx.lineTo(40, 160);
            ctx.stroke();
            
            // Desenhar curva
            ctx.strokeStyle = '#e53e3e';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let t = 0; t <= tempo; t += 0.1) {
                const montante = capital * Math.pow(1 + taxa, t);
                const x = 40 + (t / tempo) * 340;
                const y = 160 - (montante / (capital * Math.pow(1 + taxa, tempo))) * 140;
                
                if (t === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // Labels
            ctx.fillStyle = '#4a5568';
            ctx.font = '12px Arial';
            ctx.fillText('Tempo (anos)', 180, 190);
            ctx.save();
            ctx.translate(15, 100);
            ctx.rotate(-Math.PI/2);
            ctx.fillText('Montante (R$)', 0, 0);
            ctx.restore();
        }

        function compareExponentials() {
            alert('Compare diferentes bases:\n‚Ä¢ Base > 1: Crescimento exponencial\n‚Ä¢ 0 < Base < 1: Decrescimento exponencial\n‚Ä¢ Quanto maior a base, mais r√°pido o crescimento!');
        }

        // Fun√ß√µes para Fun√ß√£o Logar√≠tmica
        function updateLogarithmic() {
            const base = parseFloat(document.getElementById('logBase').value);
            const mult = parseFloat(document.getElementById('logMult').value);
            
            document.getElementById('logBaseValue').textContent = base;
            document.getElementById('logMultValue').textContent = mult;
            
            // Construir equa√ß√£o
            let equation = 'f(x) = ';
            if (mult !== 1) equation += mult + ' √ó ';
            equation += 'log‚Çç' + base + '‚Çé(x)';
            
            document.getElementById('logEquation').innerHTML = '<strong>' + equation + '</strong>';
            
            // Atualizar comportamento
            const behavior = base > 1 ? 'Fun√ß√£o crescente' : 'Fun√ß√£o decrescente';
            document.getElementById('logBehavior').textContent = behavior + ' ‚Ä¢ Ass√≠ntota vertical: x = 0';
            
            // Desenhar curva
            drawLogarithmicCurve(base, mult);
        }

        function drawLogarithmicCurve(base, mult) {
            let path = '';
            const scale = 25;
            const centerX = 225;
            const centerY = 175;
            
            for (let x = 0.1; x <= 10; x += 0.1) {
                const y = mult * Math.log(x) / Math.log(base);
                
                const screenX = centerX + x * scale;
                const screenY = centerY - y * scale;
                
                if (screenY >= 0 && screenY <= 350 && screenX >= 0 && screenX <= 450) {
                    if (path === '') {
                        path = `M ${screenX} ${screenY}`;
                    } else {
                        path += ` L ${screenX} ${screenY}`;
                    }
                }
            }
            
            document.getElementById('logCurve').setAttribute('d', path);
        }

        function calculateLogProperties() {
            const a = parseFloat(document.getElementById('logCalcA')?.value || 8);
            const b = parseFloat(document.getElementById('logCalcB')?.value || 4);
            const base = parseFloat(document.getElementById('logBase')?.value || 2);
            
            const logA = Math.log(a) / Math.log(base);
            const logB = Math.log(b) / Math.log(base);
            const logProduct = Math.log(a * b) / Math.log(base);
            const logQuotient = Math.log(a / b) / Math.log(base);
            
            const resultsDiv = document.getElementById('logCalcResults');
            if (resultsDiv) {
                resultsDiv.innerHTML = `
                    <p>log‚Çç${base}‚Çé(${a}) = ${logA.toFixed(2)}</p>
                    <p>log‚Çç${base}‚Çé(${b}) = ${logB.toFixed(2)}</p>
                    <p>log‚Çç${base}‚Çé(${a} √ó ${b}) = log‚Çç${base}‚Çé(${a}) + log‚Çç${base}‚Çé(${b}) = ${logProduct.toFixed(2)}</p>
                    <p>log‚Çç${base}‚Çé(${a} √∑ ${b}) = log‚Çç${base}‚Çé(${a}) - log‚Çç${base}‚Çé(${b}) = ${logQuotient.toFixed(2)}</p>
                `;
            }
        }

        function showVerticalAsymptote() {
            const asymptote = document.getElementById('verticalAsymptote');
            asymptote.style.display = asymptote.style.display === 'none' ? 'block' : 'none';
            alert('A ass√≠ntota vertical x = 0 indica que o logaritmo n√£o est√° definido para valores n√£o-positivos!');
        }

        function compareWithExponential() {
            const expCurve = document.getElementById('expCurveCompare');
            const symmetryLine = document.getElementById('symmetryLine');
            
            if (expCurve.style.display === 'none') {
                // Mostrar compara√ß√£o
                expCurve.style.display = 'block';
                symmetryLine.style.display = 'block';
                
                // Desenhar exponencial correspondente
                const base = parseFloat(document.getElementById('logBase').value);
                drawCorrespondingExponential(base);
                
                alert('As fun√ß√µes logar√≠tmica e exponencial s√£o inversas! Observe a simetria em rela√ß√£o √† reta y = x.');
            } else {
                expCurve.style.display = 'none';
                symmetryLine.style.display = 'none';
            }
        }

        function drawCorrespondingExponential(base) {
            let path = '';
            const scale = 25;
            const centerX = 225;
            const centerY = 175;
            
            for (let x = -8; x <= 8; x += 0.1) {
                const y = Math.pow(base, x);
                
                const screenX = centerX + x * scale;
                const screenY = centerY - y * scale;
                
                if (screenY >= 0 && screenY <= 350 && screenX >= 0 && screenX <= 450) {
                    if (path === '') {
                        path = `M ${screenX} ${screenY}`;
                    } else {
                        path += ` L ${screenX} ${screenY}`;
                    }
                }
            }
            
            document.getElementById('expCurveCompare').setAttribute('d', path);
        }

        function showLogProperties() {
            alert(`Propriedades dos Logaritmos:
            
1. log_b(x¬∑y) = log_b(x) + log_b(y)
2. log_b(x/y) = log_b(x) - log_b(y)  
3. log_b(x^n) = n¬∑log_b(x)
4. log_b(b) = 1
5. log_b(1) = 0
6. b^(log_b(x)) = x

Use a calculadora acima para verificar essas propriedades!`);
        }

        function changeBase() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 2000; display: flex;
                justify-content: center; align-items: center;
            `;
            
            modal.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%;">
                    <h3>üî¢ Mudan√ßa de Base</h3>
                    <p>Para converter log_a(x) para log_b(x):</p>
                    <div style="background: #f7fafc; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center;">
                        <strong>log_b(x) = log_a(x) / log_a(b)</strong>
                    </div>
                    <div style="margin: 20px 0;">
                        <label>Valor de x: <input type="number" id="changeX" value="8" style="width: 80px;"></label><br><br>
                        <label>Base original (a): <input type="number" id="changeA" value="2" style="width: 80px;"></label><br><br>
                        <label>Nova base (b): <input type="number" id="changeB" value="10" style="width: 80px;"></label>
                    </div>
                    <div id="changeResult" style="background: #e6fffa; padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <p>log‚ÇÇ(8) = 3</p>
                        <p>log‚ÇÅ‚ÇÄ(8) = log‚ÇÇ(8) / log‚ÇÇ(10) = 3 / 3.32 = 0.90</p>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="calculateBaseChange()" style="padding: 8px 16px; background: #38a169; color: white; border: none; border-radius: 5px; cursor: pointer; margin-right: 10px;">Calcular</button>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" style="padding: 8px 16px; background: #4299e1; color: white; border: none; border-radius: 5px; cursor: pointer;">Fechar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function calculateBaseChange() {
            const x = parseFloat(document.getElementById('changeX').value);
            const a = parseFloat(document.getElementById('changeA').value);
            const b = parseFloat(document.getElementById('changeB').value);
            
            const logA = Math.log(x) / Math.log(a);
            const logB = Math.log(x) / Math.log(b);
            const conversionFactor = Math.log(b) / Math.log(a);
            
            document.getElementById('changeResult').innerHTML = `
                <p>log‚Çç${a}‚Çé(${x}) = ${logA.toFixed(3)}</p>
                <p>log‚Çç${b}‚Çé(${x}) = log‚Çç${a}‚Çé(${x}) / log‚Çç${a}‚Çé(${b}) = ${logA.toFixed(3)} / ${conversionFactor.toFixed(3)} = ${logB.toFixed(3)}</p>
            `;
        }

        // Fun√ß√µes existentes (Fun√ß√µes, Par√°bola, Trigonometria)
        function animateFunction() {
            const arrows = document.querySelectorAll('.arrow');
            arrows.forEach((arrow, index) => {
                setTimeout(() => {
                    arrow.style.opacity = '1';
                    arrow.style.animation = 'none';
                    arrow.style.animation = 'drawLine 1s ease-in-out';
                }, index * 500);
            });
        }

        function resetAnimation() {
            const arrows = document.querySelectorAll('.arrow');
            arrows.forEach(arrow => {
                arrow.style.opacity = '0';
                arrow.style.animation = 'none';
            });
        }

        function updateParabola() {
            const a = parseFloat(document.getElementById('coefA').value);
            const b = parseFloat(document.getElementById('coefB').value);
            const c = parseFloat(document.getElementById('coefC').value);
            
            document.getElementById('aValue').textContent = a;
            document.getElementById('bValue').textContent = b;
            document.getElementById('cValue').textContent = c;
            
            // Construir equa√ß√£o
            let equation = 'f(x) = ';
            if (a === 1) equation += 'x¬≤';
            else if (a === -1) equation += '-x¬≤';
            else equation += a + 'x¬≤';
            
            if (b > 0) equation += ' + ' + b + 'x';
            else if (b < 0) equation += ' - ' + Math.abs(b) + 'x';
            
            if (c > 0) equation += ' + ' + c;
            else if (c < 0) equation += ' - ' + Math.abs(c);
            
            document.getElementById('equationDisplay').textContent = equation;
            
            // Calcular v√©rtice
            const xv = -b / (2 * a);
            const yv = a * xv * xv + b * xv + c;
            
            // Atualizar informa√ß√µes
            document.getElementById('concavity').textContent = a > 0 ? 'Para cima' : 'Para baixo';
            document.getElementById('vertexCoords').textContent = `(${xv.toFixed(2)}, ${yv.toFixed(2)})`;
            
            // Desenhar par√°bola
            drawParabola(a, b, c);
            
            // Posicionar v√©rtice
            const vertexX = 200 + xv * 20; // Escala
            const vertexY = 150 - yv * 10; // Escala invertida
            document.getElementById('vertexPoint').setAttribute('cx', vertexX);
            document.getElementById('vertexPoint').setAttribute('cy', vertexY);
        }

        function drawParabola(a, b, c) {
            let path = '';
            const scale = 20;
            
            for (let x = -10; x <= 10; x += 0.2) {
                const y = a * x * x + b * x + c;
                const screenX = 200 + x * scale;
                const screenY = 150 - y * 10;
                
                if (screenY >= 0 && screenY <= 300) {
                    if (path === '') {
                        path = `M ${screenX} ${screenY}`;
                    } else {
                        path += ` L ${screenX} ${screenY}`;
                    }
                }
            }
            
            document.getElementById('parabolaPath').setAttribute('d', path);
        }

        function animateParabola() {
            const path = document.getElementById('parabolaPath');
            const length = path.getTotalLength();
            
            path.style.strokeDasharray = length;
            path.style.strokeDashoffset = length;
            path.style.animation = 'drawParabola 3s ease-in-out forwards';
        }

        function showVertex() {
            const a = parseFloat(document.getElementById('coefA').value);
            const b = parseFloat(document.getElementById('coefB').value);
            const c = parseFloat(document.getElementById('coefC').value);
            
            const xv = -b / (2 * a);
            const yv = a * xv * xv + b * xv + c;
            
            alert(`V√©rtice da par√°bola: (${xv.toFixed(2)}, ${yv.toFixed(2)})`);
        }

        function showRoots() {
            const a = parseFloat(document.getElementById('coefA').value);
            const b = parseFloat(document.getElementById('coefB').value);
            const c = parseFloat(document.getElementById('coefC').value);
            
            const delta = b * b - 4 * a * c;
            
            if (delta < 0) {
                alert('Esta par√°bola n√£o possui ra√≠zes reais (Œî < 0)');
            } else if (delta === 0) {
                const x = -b / (2 * a);
                alert(`Raiz dupla: x = ${x.toFixed(2)}`);
            } else {
                const x1 = (-b + Math.sqrt(delta)) / (2 * a);
                const x2 = (-b - Math.sqrt(delta)) / (2 * a);
                alert(`Ra√≠zes: x‚ÇÅ = ${x1.toFixed(2)} e x‚ÇÇ = ${x2.toFixed(2)}`);
            }
        }

        function updateTrigCircle() {
            const angle = parseFloat(document.getElementById('angleSlider').value);
            const radians = (angle * Math.PI) / 180;
            
            const centerX = 140;
            const centerY = 140;
            const radius = 100;
            
            const x = centerX + radius * Math.cos(radians);
            const y = centerY - radius * Math.sin(radians);
            
            // Atualizar ponto no c√≠rculo
            document.getElementById('pointOnCircle').setAttribute('cx', x);
            document.getElementById('pointOnCircle').setAttribute('cy', y);
            
            // Atualizar raio
            document.getElementById('radiusLine').setAttribute('x2', x);
            document.getElementById('radiusLine').setAttribute('y2', y);
            
            // Atualizar proje√ß√µes
            document.getElementById('sineLine').setAttribute('x1', x);
            document.getElementById('sineLine').setAttribute('y1', centerY);
            document.getElementById('sineLine').setAttribute('x2', x);
            document.getElementById('sineLine').setAttribute('y2', y);
            
            document.getElementById('cosineLine').setAttribute('x1', centerX);
            document.getElementById('cosineLine').setAttribute('y1', centerY);
            document.getElementById('cosineLine').setAttribute('x2', x);
            document.getElementById('cosineLine').setAttribute('y2', centerY);
            
            // Calcular valores
            const sinValue = Math.sin(radians);
            const cosValue = Math.cos(radians);
            const tanValue = Math.tan(radians);
            
            // Atualizar displays
            document.getElementById('angleValue').textContent = angle + '¬∞';
            document.getElementById('radiansValue').textContent = radians.toFixed(3);
            
            // Atualizar valores trigonom√©tricos
            const displays = ['angleDisplay', 'angleDisplay2', 'angleDisplay3'];
            displays.forEach(id => {
                const elem = document.getElementById(id);
                if (elem) elem.textContent = angle + '¬∞';
            });
            
            document.getElementById('sinValue').textContent = sinValue.toFixed(3);
            document.getElementById('cosValue').textContent = cosValue.toFixed(3);
            document.getElementById('tanValue').textContent = isFinite(tanValue) ? tanValue.toFixed(3) : '‚àû';
            
            // Determinar quadrante
            let quadrant = 'I';
            if (angle > 90 && angle <= 180) quadrant = 'II';
            else if (angle > 180 && angle <= 270) quadrant = 'III';
            else if (angle > 270 && angle < 360) quadrant = 'IV';
            document.getElementById('quadrant').textContent = quadrant;
            
            // Atualizar identidades
            const identity1 = sinValue * sinValue + cosValue * cosValue;
            document.getElementById('identity1').textContent = identity1.toFixed(3);
            document.getElementById('identity2').textContent = isFinite(tanValue) ? tanValue.toFixed(3) : '‚àû';
            document.getElementById('identity3').textContent = cosValue !== 0 ? (1/cosValue).toFixed(3) : '‚àû';
            document.getElementById('identity4').textContent = sinValue !== 0 ? (1/sinValue).toFixed(3) : '‚àû';
            
            // Atualizar gr√°ficos
            updateTrigGraphs(angle, radians);
            
            // Atualizar tangente no c√≠rculo
            if (Math.abs(cosValue) > 0.001) {
                const tanY = centerY - tanValue * radius;
                document.getElementById('tanLine').setAttribute('y2', tanY);
                document.getElementById('tanLine').style.display = 'block';
                document.getElementById('tanLabel').style.display = 'block';
            } else {
                document.getElementById('tanLine').style.display = 'none';
                document.getElementById('tanLabel').style.display = 'none';
            }
        }

        function updateTrigGraphs(angle, radians) {
            // Atualizar ponto atual no gr√°fico
            const graphX = 20 + (angle / 360) * 220;
            document.getElementById('currentPoint').setAttribute('cx', graphX);
            
            // Desenhar curvas se estiverem vis√≠veis
            drawTrigCurve('sin');
            drawTrigCurve('cos');
            drawTrigCurve('tan');
        }

        function drawTrigCurve(func) {
            const curve = document.getElementById(func + 'Curve');
            if (curve.style.display === 'none') return;
            
            let path = '';
            const scale = 80; // Amplitude
            const centerY = 100;
            
            for (let deg = 0; deg <= 360; deg += 2) {
                const rad = (deg * Math.PI) / 180;
                let y;
                
                if (func === 'sin') {
                    y = centerY - Math.sin(rad) * scale;
                } else if (func === 'cos') {
                    y = centerY - Math.cos(rad) * scale;
                } else if (func === 'tan') {
                    const tanVal = Math.tan(rad);
                    if (Math.abs(tanVal) > 5) continue; // Evitar ass√≠ntotas
                    y = centerY - tanVal * 20; // Escala menor para tangente
                }
                
                const x = 20 + (deg / 360) * 220;
                
                if (y >= 0 && y <= 200) {
                    if (path === '') {
                        path = `M ${x} ${y}`;
                    } else {
                        path += ` L ${x} ${y}`;
                    }
                }
            }
            
            curve.setAttribute('d', path);
        }

        function showFunction(func) {
            // Esconder todas as curvas
            ['sin', 'cos', 'tan'].forEach(f => {
                document.getElementById(f + 'Curve').style.display = 'none';
            });
            
            // Mostrar a curva selecionada
            document.getElementById(func + 'Curve').style.display = 'block';
            drawTrigCurve(func);
            
            // Atualizar ponto atual
            const angle = parseFloat(document.getElementById('angleSlider').value);
            const radians = (angle * Math.PI) / 180;
            const graphX = 20 + (angle / 360) * 220;
            let graphY = 100;
            
            if (func === 'sin') {
                graphY = 100 - Math.sin(radians) * 80;
            } else if (func === 'cos') {
                graphY = 100 - Math.cos(radians) * 80;
            } else if (func === 'tan') {
                const tanVal = Math.tan(radians);
                if (Math.abs(tanVal) <= 5) {
                    graphY = 100 - tanVal * 20;
                }
            }
            
            document.getElementById('currentPoint').setAttribute('cy', graphY);
        }

        function calculateTriangle() {
            const a = parseFloat(document.getElementById('catetOposto').value) || 0;
            const b = parseFloat(document.getElementById('catetAdjacente').value) || 0;
            const c = parseFloat(document.getElementById('hipotenusa').value) || 0;
            
            const results = document.getElementById('triangleResults');
            
            // Contar quantos valores foram fornecidos
            const values = [a, b, c].filter(v => v > 0);
            if (values.length < 2) {
                results.innerHTML = '<p>Digite pelo menos 2 valores para calcular o tri√¢ngulo</p>';
                return;
            }
            
            let newA = a, newB = b, newC = c;
            let angleA = 0, angleB = 0, angleC = 90;
            
            // Calcular valores faltantes
            if (a > 0 && b > 0 && c === 0) {
                // Dois catetos
                newC = Math.sqrt(a * a + b * b);
                angleA = Math.atan(a / b) * 180 / Math.PI;
                angleB = 90 - angleA;
            } else if (a > 0 && c > 0 && b === 0) {
                // Cateto oposto e hipotenusa
                newB = Math.sqrt(c * c - a * a);
                angleA = Math.asin(a / c) * 180 / Math.PI;
                angleB = 90 - angleA;
            } else if (b > 0 && c > 0 && a === 0) {
                // Cateto adjacente e hipotenusa
                newA = Math.sqrt(c * c - b * b);
                angleA = Math.acos(b / c) * 180 / Math.PI;
                angleB = 90 - angleA;
            }
            
            // Atualizar campos
            if (a === 0) document.getElementById('catetOposto').value = newA.toFixed(2);
            if (b === 0) document.getElementById('catetAdjacente').value = newB.toFixed(2);
            if (c === 0) document.getElementById('hipotenusa').value = newC.toFixed(2);
            
            // Mostrar resultados
            results.innerHTML = `
                <p><strong>Lados:</strong> a = ${newA.toFixed(2)}, b = ${newB.toFixed(2)}, c = ${newC.toFixed(2)}</p>
                <p><strong>√Çngulos:</strong> A = ${angleA.toFixed(1)}¬∞, B = ${angleB.toFixed(1)}¬∞, C = 90¬∞</p>
                <p><strong>Raz√µes:</strong></p>
                <p>sen(A) = ${(newA/newC).toFixed(3)}, cos(A) = ${(newB/newC).toFixed(3)}, tan(A) = ${(newA/newB).toFixed(3)}</p>
            `;
        }

        function showTrigWave() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 2000; display: flex;
                justify-content: center; align-items: center;
            `;
            
            modal.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 15px; max-width: 700px; width: 95%;">
                    <h3>üåä Simulador de Ondas Trigonom√©tricas</h3>
                    <div style="margin: 20px 0;">
                        <label>Amplitude: <input type="range" id="waveAmplitude" min="0.5" max="3" step="0.1" value="1" oninput="updateWave()"> <span id="ampValue">1</span></label><br>
                        <label>Frequ√™ncia: <input type="range" id="waveFrequency" min="0.5" max="3" step="0.1" value="1" oninput="updateWave()"> <span id="freqValue">1</span></label><br>
                        <label>Fase: <input type="range" id="wavePhase" min="0" max="360" value="0" oninput="updateWave()"> <span id="phaseValue">0</span>¬∞</label>
                    </div>
                    <canvas id="waveCanvas" width="600" height="300" style="border: 1px solid #e2e8f0; border-radius: 5px; background: white;"></canvas>
                    <div style="margin: 15px 0;">
                        <p><strong>Equa√ß√£o:</strong> <span id="waveEquation">y = sen(x)</span></p>
                        <p><strong>Aplica√ß√µes:</strong> Som, luz, ondas do mar, corrente el√©trica alternada</p>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="animateWave()" style="padding: 8px 16px; background: #38a169; color: white; border: none; border-radius: 5px; cursor: pointer; margin-right: 10px;">üé¨ Animar</button>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" style="padding: 8px 16px; background: #4299e1; color: white; border: none; border-radius: 5px; cursor: pointer;">Fechar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            updateWave();
        }

        function updateWave() {
            const amplitude = parseFloat(document.getElementById('waveAmplitude')?.value || 1);
            const frequency = parseFloat(document.getElementById('waveFrequency')?.value || 1);
            const phase = parseFloat(document.getElementById('wavePhase')?.value || 0);
            
            document.getElementById('ampValue').textContent = amplitude;
            document.getElementById('freqValue').textContent = frequency;
            document.getElementById('phaseValue').textContent = phase;
            
            const equation = `y = ${amplitude} √ó sen(${frequency}x + ${phase}¬∞)`;
            document.getElementById('waveEquation').textContent = equation;
            
            drawWave(amplitude, frequency, phase);
        }

        function drawWave(amplitude, frequency, phase) {
            const canvas = document.getElementById('waveCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, 600, 300);
            
            // Desenhar eixos
            ctx.strokeStyle = '#4a5568';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, 150);
            ctx.lineTo(600, 150);
            ctx.moveTo(50, 0);
            ctx.lineTo(50, 300);
            ctx.stroke();
            
            // Desenhar grade
            ctx.strokeStyle = '#f0f0f0';
            ctx.lineWidth = 1;
            for (let i = 0; i < 600; i += 50) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, 300);
                ctx.stroke();
            }
            for (let i = 0; i < 300; i += 30) {
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.lineTo(600, i);
                ctx.stroke();
            }
            
            // Desenhar onda
            ctx.strokeStyle = '#e53e3e';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let x = 0; x < 600; x += 2) {
                const angle = (x - 50) * frequency * Math.PI / 100 + phase * Math.PI / 180;
                const y = 150 - amplitude * Math.sin(angle) * 100;
                
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // Labels
            ctx.fillStyle = '#4a5568';
            ctx.font = '12px Arial';
            ctx.fillText('0', 45, 165);
            ctx.fillText('œÄ', 145, 165);
            ctx.fillText('2œÄ', 245, 165);
            ctx.fillText('3œÄ', 345, 165);
        }

        let waveAnimationId;
        function animateWave() {
            let phaseOffset = 0;
            const amplitude = parseFloat(document.getElementById('waveAmplitude')?.value || 1);
            const frequency = parseFloat(document.getElementById('waveFrequency')?.value || 1);
            
            function animate() {
                phaseOffset += 5;
                if (phaseOffset >= 360) phaseOffset = 0;
                
                drawWave(amplitude, frequency, phaseOffset);
                waveAnimationId = requestAnimationFrame(animate);
            }
            
            // Parar anima√ß√£o anterior
            if (waveAnimationId) cancelAnimationFrame(waveAnimationId);
            animate();
            
            // Parar ap√≥s 10 segundos
            setTimeout(() => {
                if (waveAnimationId) cancelAnimationFrame(waveAnimationId);
            }, 10000);
        }

        let trigAnimation;
        function animateTrig() {
            const slider = document.getElementById('angleSlider');
            let angle = 0;
            
            trigAnimation = setInterval(() => {
                angle = (angle + 2) % 360;
                slider.value = angle;
                updateTrigCircle();
            }, 50);
            
            setTimeout(() => clearInterval(trigAnimation), 10000);
        }

        function showSpecialAngles() {
            alert('√Çngulos not√°veis:\n0¬∞ ‚Üí sen=0, cos=1\n30¬∞ ‚Üí sen=1/2, cos=‚àö3/2\n45¬∞ ‚Üí sen=‚àö2/2, cos=‚àö2/2\n60¬∞ ‚Üí sen=‚àö3/2, cos=1/2\n90¬∞ ‚Üí sen=1, cos=0');
        }

        // Fechar modal ao clicar fora
        window.onclick = function(event) {
            const modal = document.getElementById('activityModal');
            if (event.target === modal) {
                closeActivity();
            }
        }

        // Adicionar estilos para anima√ß√µes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes drawLine {
                from { stroke-dasharray: 400; stroke-dashoffset: 400; }
                to { stroke-dasharray: 400; stroke-dashoffset: 0; }
            }
            
            @keyframes pulse {
                0%, 100% { transform: scale(1); opacity: 0.7; }
                50% { transform: scale(1.1); opacity: 1; }
            }
            
            @keyframes drawParabola {
                from { stroke-dashoffset: 100%; }
                to { stroke-dashoffset: 0; }
            }
            
            @keyframes areaAnimation {
                0%, 100% { transform: scale(1); }
                25% { transform: scale(1.1); }
                50% { transform: scale(1.05); }
                75% { transform: scale(1.15); }
            }
            
            @keyframes drawCurve {
                from { stroke-dashoffset: 100%; }
                to { stroke-dashoffset: 0; }
            }
            
            @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            .modal-enter {
                animation: fadeInUp 0.3s ease-out;
            }
        `;
        document.head.appendChild(style);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9755bdc141f282e8',t:'MTc1NjIzNjYwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
